{"remainingRequest":"D:\\devel\\VS\\2019\\guestbook\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\devel\\VS\\2019\\guestbook\\src\\components\\CreateMessage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\devel\\VS\\2019\\guestbook\\src\\components\\CreateMessage.vue","mtime":1595634404089},{"path":"D:\\devel\\VS\\2019\\guestbook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\devel\\VS\\2019\\guestbook\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\devel\\VS\\2019\\guestbook\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\devel\\VS\\2019\\guestbook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\devel\\VS\\2019\\guestbook\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJDcmVhdGVNZXNzYWdlIiwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgLy8gVmFsaWRhdGlvbg0KICAgICAgdXNlck5hbWVSdWxlczogWw0KICAgICAgICAodikgPT4gISF2IHx8ICJVc2VyIE5hbWUg0L7QsdGP0LfQsNGC0LXQu9C10L0g0LTQu9GPINC30LDQv9C+0LvQvdC10L3QuNGPIiwNCiAgICAgICAgKHYpID0+DQogICAgICAgICAgdGhpcy52YWxpZGF0ZVVzZXJOYW1lKHYpIHx8DQogICAgICAgICAgIlVzZXIgTmFtZSDQtNC+0LvQttC10L0g0YHQvtC00LXRgNC20LDRgtGMINGG0LjRhNGA0Ysg0Lgg0LHRg9C60LLRiyDQu9Cw0YLQuNC90YHQutC+0LPQviDQsNC70YTQsNCy0LjRgtCwIiwNCiAgICAgIF0sDQogICAgICBlbWFpbFJ1bGVzOiBbDQogICAgICAgICh2KSA9PiAhIXYgfHwgIkVtYWlsINC+0LHRj9C30LDRgtC10LvQtdC9INC00LvRjyDQt9Cw0L/QvtC70L3QtdC90LjRjyIsDQogICAgICAgICh2KSA9Pg0KICAgICAgICAgIHRoaXMudmFsaWRhdGVFbWFpbCh2KSB8fA0KICAgICAgICAgICJFbWFpbCDQvdC1INGB0L7QvtGC0LLQtdGC0YHRgtCy0YPQtdGCINGE0L7RgNC80LDRgtGDINGN0LvQtdC60YLRgNC+0L3QvdC+0Lkg0L/QvtGH0YLRiyIsDQogICAgICBdLA0KICAgICAgdXJsUnVsZXM6IFsNCiAgICAgICAgKHYpID0+DQogICAgICAgICAgIXYgfHwgdi5sZW5ndGggPT09IDAgfHwgdGhpcy52YWxpZGF0ZVVSTCh2KSB8fCAi0J3QtSDRgdC+0L7RgtCy0LXRgtGB0YLQstGD0LXRgiB1cmwiLA0KICAgICAgXSwNCiAgICAgIG1lc3NhZ2VSdWxlczogWw0KICAgICAgICAodikgPT4gISF2IHx8ICJUZXh0INC+0LHRj9C30LDRgtC10LvQtdC9INC00LvRjyDQt9Cw0L/QvtC70L3QtdC90LjRjyIsDQogICAgICAgICh2KSA9PiB0aGlzLnNlYXJjaFRhZ3ModikgfHwgIkhUTUwg0YLRjdCz0Lgg0L3QtdC00L7Qv9GD0YHRgtC40LzRiyIsDQogICAgICBdLA0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvLyDQnNC10YLQvtC00Ysg0LTQu9GPINC/0YDQsNCy0LjQuyDQstCw0LvQuNGG0LjQuA0KICAgIHZhbGlkYXRlVXNlck5hbWUodXNlck5hbWUpIHsNCiAgICAgIGNvbnN0IHJlZ2V4ID0gL1swLTldezEsfShbYS16XSl7MSx9fChbYS16XSl7MSx9WzAtOV17MSx9fFthLXpdezEsfS9naTsNCiAgICAgIHJldHVybiByZWdleC5leGVjKHVzZXJOYW1lKSAhPT0gbnVsbDsNCiAgICB9LA0KICAgIHZhbGlkYXRlRW1haWwoZW1haWwpIHsNCiAgICAgIGNvbnN0IHJlZ2V4ID0gL15bYS16QS1aMC05Xy4rLV0rQFthLXpBLVowLTktXStcLlthLXpBLVowLTktLl0rJC9naTsNCiAgICAgIHJldHVybiByZWdleC5leGVjKGVtYWlsKSAhPT0gbnVsbDsNCiAgICB9LA0KICAgIHZhbGlkYXRlVVJMKHVybCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgbmV3IFVSTCh1cmwpLnRvU3RyaW5nKCk7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgfSwNCiAgICBzZWFyY2hUYWdzKHRleHQpIHsNCiAgICAgIGNvbnN0IHJlZ2V4ID0gLzxccypcdypccypbYS16QS1aXS4qPz4vZ2k7DQogICAgICByZXR1cm4gcmVnZXguZXhlYyh0ZXh0KSA9PT0gbnVsbDsNCiAgICB9LA0KDQogICAgLy8g0J3QsNC20LDRgtC40LUg0L3QsCDQutC90L7Qv9C60YMg0JTQntCR0JDQktCY0KLQrA0KICAgIHNhdmVNZXNzYWdlKCkgew0KICAgICAgaWYgKHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7DQogICAgICAgIC8vDQogICAgICB9DQogICAgfSwNCiAgICAvLyDQndCw0LbQsNGC0LjQtSDQvdCwINC60L3QvtC/0LrRgyDQntCn0JjQodCi0JjQotCsDQogICAgY2xlYXJGb3JtKCkgew0KICAgICAgdGhpcy4kcmVmcy5mb3JtLnJlc2V0KCk7DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["CreateMessage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CreateMessage.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <v-container class=\"fill-height\" fluid>\r\n    <v-row align=\"center\" justify=\"center\">\r\n      <v-col cols=\"12\" sm=\"8\" md=\"8\" xl=\"4\">\r\n        <v-card dark class=\"elevation-12\">\r\n          <v-toolbar color=\"primary\" flat>\r\n            <v-toolbar-title>Добавление сообщения</v-toolbar-title>\r\n          </v-toolbar>\r\n          <v-card-text>\r\n            <v-form ref=\"form\">\r\n              <v-text-field\r\n                label=\"User Name \"\r\n                prepend-icon=\"mdi-account\"\r\n                type=\"text\"\r\n                :rules=\"userNameRules\"\r\n              ></v-text-field>\r\n              <v-text-field label=\"E-mail\" prepend-icon=\"mdi-email\" type=\"text\" :rules=\"emailRules\"></v-text-field>\r\n              <v-text-field label=\"Homepage\" prepend-icon=\"mdi-home\" type=\"text\" :rules=\"urlRules\"></v-text-field>\r\n              <v-textarea\r\n                label=\"Text\"\r\n                name=\"login\"\r\n                prepend-icon=\"mdi-text\"\r\n                type=\"text\"\r\n                :rules=\"messageRules\"\r\n              ></v-textarea>\r\n            </v-form>\r\n          </v-card-text>\r\n          <v-card-actions>\r\n            <v-btn color=\"success\" @click=\"saveMessage\">Добавить</v-btn>\r\n            <v-btn color=\"secondary\" @click=\"clearForm\">Очистить</v-btn>\r\n            <v-spacer></v-spacer>\r\n            <v-btn to=\"/messages\" color=\"primary\">Отмена</v-btn>\r\n          </v-card-actions>\r\n        </v-card>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"CreateMessage\",\r\n  data() {\r\n    return {\r\n      // Validation\r\n      userNameRules: [\r\n        (v) => !!v || \"User Name обязателен для заполнения\",\r\n        (v) =>\r\n          this.validateUserName(v) ||\r\n          \"User Name должен содержать цифры и буквы латинского алфавита\",\r\n      ],\r\n      emailRules: [\r\n        (v) => !!v || \"Email обязателен для заполнения\",\r\n        (v) =>\r\n          this.validateEmail(v) ||\r\n          \"Email не соответствует формату электронной почты\",\r\n      ],\r\n      urlRules: [\r\n        (v) =>\r\n          !v || v.length === 0 || this.validateURL(v) || \"Не соответствует url\",\r\n      ],\r\n      messageRules: [\r\n        (v) => !!v || \"Text обязателен для заполнения\",\r\n        (v) => this.searchTags(v) || \"HTML тэги недопустимы\",\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    // Методы для правил валиции\r\n    validateUserName(userName) {\r\n      const regex = /[0-9]{1,}([a-z]){1,}|([a-z]){1,}[0-9]{1,}|[a-z]{1,}/gi;\r\n      return regex.exec(userName) !== null;\r\n    },\r\n    validateEmail(email) {\r\n      const regex = /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$/gi;\r\n      return regex.exec(email) !== null;\r\n    },\r\n    validateURL(url) {\r\n      try {\r\n        new URL(url).toString();\r\n        return true;\r\n      } catch (e) {\r\n        return false;\r\n      }\r\n    },\r\n    searchTags(text) {\r\n      const regex = /<\\s*\\w*\\s*[a-zA-Z].*?>/gi;\r\n      return regex.exec(text) === null;\r\n    },\r\n\r\n    // Нажатие на кнопку ДОБАВИТЬ\r\n    saveMessage() {\r\n      if (this.$refs.form.validate()) {\r\n        //\r\n      }\r\n    },\r\n    // Нажатие на кнопку ОЧИСТИТЬ\r\n    clearForm() {\r\n      this.$refs.form.reset();\r\n    },\r\n  },\r\n};\r\n</script>"]}]}