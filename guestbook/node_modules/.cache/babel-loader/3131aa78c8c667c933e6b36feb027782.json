{"remainingRequest":"D:\\devel\\GuestBook\\guestbook\\node_modules\\babel-loader\\lib\\index.js!D:\\devel\\GuestBook\\guestbook\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\devel\\GuestBook\\guestbook\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\devel\\GuestBook\\guestbook\\src\\components\\CreateMessage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\devel\\GuestBook\\guestbook\\src\\components\\CreateMessage.vue","mtime":1595860526818},{"path":"D:\\devel\\GuestBook\\guestbook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\devel\\GuestBook\\guestbook\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\devel\\GuestBook\\guestbook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\devel\\GuestBook\\guestbook\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDcmVhdGVNZXNzYWdlIiwKICBwcm9wczogWyJwYWdlTnVtYmVyIiwgInNvcnRDb2x1bW4iLCAiZGVzY2VuZGluZ09yZGVyIl0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIHsKICAgICAgc2F2aW5nOiBmYWxzZSwKICAgICAgLy8gVmFsaWRhdGlvbgogICAgICB1c2VyTmFtZVJ1bGVzOiBbZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gISF2IHx8ICJVc2VyIE5hbWUg0L7QsdGP0LfQsNGC0LXQu9C10L0g0LTQu9GPINC30LDQv9C+0LvQvdC10L3QuNGPIjsKICAgICAgfSwgZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gdi5sZW5ndGggPj0gNSAmJiB2Lmxlbmd0aCA8PSAyMCB8fCAiVXNlciBOYW1lINC00L7Qu9C20LXQvSDRgdC+0LTQtdGA0LbQsNGC0Ywg0L7RgiA1INC00L4gMjAg0YHQuNC80LLQvtC70L7QsiI7CiAgICAgIH0sIGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIF90aGlzLnZhbGlkYXRlVXNlck5hbWUodikgfHwgIlVzZXIgTmFtZSDQtNC+0LvQttC10L0g0YHQvtC00LXRgNC20LDRgtGMINGG0LjRhNGA0Ysg0Lgg0LHRg9C60LLRiyDQu9Cw0YLQuNC90YHQutC+0LPQviDQsNC70YTQsNCy0LjRgtCwIjsKICAgICAgfV0sCiAgICAgIGVtYWlsUnVsZXM6IFtmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiAhIXYgfHwgIkVtYWlsINC+0LHRj9C30LDRgtC10LvQtdC9INC00LvRjyDQt9Cw0L/QvtC70L3QtdC90LjRjyI7CiAgICAgIH0sIGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIF90aGlzLnZhbGlkYXRlRW1haWwodikgfHwgIkVtYWlsINC90LUg0YHQvtC+0YLQstC10YLRgdGC0LLRg9C10YIg0YTQvtGA0LzQsNGC0YMg0Y3Qu9C10LrRgtGA0L7QvdC90L7QuSDQv9C+0YfRgtGLIjsKICAgICAgfV0sCiAgICAgIHVybFJ1bGVzOiBbZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gIXYgfHwgdi5sZW5ndGggPT09IDAgfHwgX3RoaXMudmFsaWRhdGVVUkwodikgfHwgIlVybCDQstCy0LXQtNC10L0g0L3QtdCy0LXRgNC90L4iOwogICAgICB9XSwKICAgICAgbWVzc2FnZVJ1bGVzOiBbZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gISF2IHx8ICJUZXh0INC+0LHRj9C30LDRgtC10LvQtdC9INC00LvRjyDQt9Cw0L/QvtC70L3QtdC90LjRjyI7CiAgICAgIH1dLAogICAgICAvLyBGb3JtIGlucHV0IGRhdGEKICAgICAgdXNlck5hbWU6ICIiLAogICAgICBlbWFpbDogIiIsCiAgICAgIGhvbWVwYWdlOiAiIiwKICAgICAgdGV4dDogIiIKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgYmFja1BhdGg6IGZ1bmN0aW9uIGJhY2tQYXRoKCkgewogICAgICByZXR1cm4gIi9tZXNzYWdlcy8iICsgdGhpcy5wYWdlTnVtYmVyICsgIiYiICsgdGhpcy5zb3J0Q29sdW1uICsgIiYiICsgdGhpcy5kZXNjZW5kaW5nT3JkZXI7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyBWYWxpZGF0aW9uCiAgICB2YWxpZGF0ZVVzZXJOYW1lOiBmdW5jdGlvbiB2YWxpZGF0ZVVzZXJOYW1lKHVzZXJOYW1lKSB7CiAgICAgIHZhciByZWdleExhdCA9IC9cZCsoW2Etel0pK3woW2Etel0pK1xkK3woW2Etel0pKy9naTsKICAgICAgdmFyIHJlZ2V4T3RoZXIgPSAvW15hLXpcZF0rL2dpOwogICAgICByZXR1cm4gcmVnZXhMYXQuZXhlYyh1c2VyTmFtZSkgIT09IG51bGwgJiYgcmVnZXhPdGhlci5leGVjKHVzZXJOYW1lKSA9PT0gbnVsbDsKICAgIH0sCiAgICB2YWxpZGF0ZUVtYWlsOiBmdW5jdGlvbiB2YWxpZGF0ZUVtYWlsKGVtYWlsKSB7CiAgICAgIHZhciByZWdleCA9IC9eW2EtejAtOV8uKy1dK0BbYS16MC05LV0rXC5bYS16MC05LS5dKyQvZ2k7CiAgICAgIHJldHVybiByZWdleC5leGVjKGVtYWlsKSAhPT0gbnVsbDsKICAgIH0sCiAgICB2YWxpZGF0ZVVSTDogZnVuY3Rpb24gdmFsaWRhdGVVUkwodXJsKSB7CiAgICAgIHRyeSB7CiAgICAgICAgbmV3IFVSTCh1cmwpLnRvU3RyaW5nKCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICAvLyDQlNCe0JHQkNCS0JjQotCsCiAgICBzYXZlTWVzc2FnZTogZnVuY3Rpb24gc2F2ZU1lc3NhZ2UoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5zYXZpbmcgPSB0cnVlOwoKICAgICAgaWYgKHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIm1lc3NhZ2VzL3NhdmVNZXNzYWdlIiwgewogICAgICAgICAgVXNlck5hbWU6IHRoaXMudXNlck5hbWUsCiAgICAgICAgICBFbWFpbDogdGhpcy5lbWFpbCwKICAgICAgICAgIEhvbWVwYWdlOiB0aGlzLmhvbWVwYWdlLAogICAgICAgICAgVGV4dDogZW5jb2RlVVJJKHRoaXMudGV4dCkKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goX3RoaXMyLmJhY2tQYXRoKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIuc2F2aW5nID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDQntCn0JjQodCi0JjQotCsCiAgICBjbGVhckZvcm06IGZ1bmN0aW9uIGNsZWFyRm9ybSgpIHsKICAgICAgdGhpcy4kcmVmcy5mb3JtLnJlc2V0KCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["CreateMessage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <v-container class=\"fill-height\" fluid>\r\n    <v-row align=\"center\" justify=\"center\">\r\n      <v-col cols=\"12\" sm=\"8\" md=\"8\" xl=\"4\">\r\n        <v-card dark class=\"elevation-12\">\r\n          <v-toolbar color=\"primary\" flat>\r\n            <v-toolbar-title>Добавление сообщения</v-toolbar-title>\r\n          </v-toolbar>\r\n          <v-card-text>\r\n            <v-form ref=\"form\">\r\n              <v-text-field\r\n                v-model=\"userName\"\r\n                label=\"User Name \"\r\n                prepend-icon=\"mdi-account\"\r\n                type=\"text\"\r\n                :rules=\"userNameRules\"\r\n                autofocus\r\n                :tabindex=\"1\"\r\n              ></v-text-field>\r\n              <v-text-field\r\n                v-model=\"email\"\r\n                label=\"E-mail\"\r\n                prepend-icon=\"mdi-email\"\r\n                type=\"text\"\r\n                :rules=\"emailRules\"\r\n              ></v-text-field>\r\n              <v-text-field\r\n                v-model=\"homepage\"\r\n                label=\"Homepage\"\r\n                prepend-icon=\"mdi-home\"\r\n                type=\"text\"\r\n                :rules=\"urlRules\"\r\n              ></v-text-field>\r\n              <v-textarea\r\n                v-model=\"text\"\r\n                label=\"Text\"\r\n                name=\"login\"\r\n                prepend-icon=\"mdi-text\"\r\n                type=\"text\"\r\n                :rules=\"messageRules\"\r\n              ></v-textarea>\r\n            </v-form>\r\n          </v-card-text>\r\n          <v-card-actions>\r\n            <v-btn\r\n              :disabled=\"saving\"\r\n              :loading=\"saving\"\r\n              color=\"success\"\r\n              @click=\"saveMessage\"\r\n            >Добавить</v-btn>\r\n            <v-btn :disabled=\"saving\" color=\"secondary\" @click=\"clearForm\">Очистить</v-btn>\r\n            <v-spacer></v-spacer>\r\n            <v-btn :disabled=\"saving\" :to=\"backPath\" color=\"primary\">Отмена</v-btn>\r\n          </v-card-actions>\r\n        </v-card>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"CreateMessage\",\r\n\r\n  props: [\"pageNumber\", \"sortColumn\", \"descendingOrder\"],\r\n\r\n  data() {\r\n    return {\r\n      saving: false,\r\n\r\n      // Validation\r\n      userNameRules: [\r\n        (v) => !!v || \"User Name обязателен для заполнения\",\r\n        (v) =>\r\n          (v.length >= 5 && v.length <= 20) ||\r\n          \"User Name должен содержать от 5 до 20 символов\",\r\n        (v) =>\r\n          this.validateUserName(v) ||\r\n          \"User Name должен содержать цифры и буквы латинского алфавита\",\r\n      ],\r\n      emailRules: [\r\n        (v) => !!v || \"Email обязателен для заполнения\",\r\n        (v) =>\r\n          this.validateEmail(v) ||\r\n          \"Email не соответствует формату электронной почты\",\r\n      ],\r\n      urlRules: [\r\n        (v) =>\r\n          !v || v.length === 0 || this.validateURL(v) || \"Url введен неверно\",\r\n      ],\r\n      messageRules: [(v) => !!v || \"Text обязателен для заполнения\"],\r\n\r\n      // Form input data\r\n      userName: \"\",\r\n      email: \"\",\r\n      homepage: \"\",\r\n      text: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    backPath() {\r\n      return (\r\n        \"/messages/\" +\r\n        this.pageNumber +\r\n        \"&\" +\r\n        this.sortColumn +\r\n        \"&\" +\r\n        this.descendingOrder\r\n      );\r\n    },\r\n  },\r\n  methods: {\r\n    // Validation\r\n    validateUserName(userName) {\r\n      const regexLat = /\\d+([a-z])+|([a-z])+\\d+|([a-z])+/gi;\r\n      const regexOther = /[^a-z\\d]+/gi;\r\n      return (\r\n        regexLat.exec(userName) !== null && regexOther.exec(userName) === null\r\n      );\r\n    },\r\n    validateEmail(email) {\r\n      const regex = /^[a-z0-9_.+-]+@[a-z0-9-]+\\.[a-z0-9-.]+$/gi;\r\n      return regex.exec(email) !== null;\r\n    },\r\n    validateURL(url) {\r\n      try {\r\n        new URL(url).toString();\r\n        return true;\r\n      } catch (e) {\r\n        return false;\r\n      }\r\n    },\r\n\r\n    // ДОБАВИТЬ\r\n    saveMessage() {\r\n      this.saving = true;\r\n      if (this.$refs.form.validate()) {\r\n        this.$store\r\n          .dispatch(\"messages/saveMessage\", {\r\n            UserName: this.userName,\r\n            Email: this.email,\r\n            Homepage: this.homepage,\r\n            Text: encodeURI(this.text),\r\n          })\r\n          .then(() => {\r\n            this.$router.push(this.backPath);\r\n          })\r\n          .catch(() => {\r\n            this.saving = false;\r\n          });\r\n      }\r\n    },\r\n    // ОЧИСТИТЬ\r\n    clearForm() {\r\n      this.$refs.form.reset();\r\n    },\r\n  },\r\n};\r\n</script>"],"sourceRoot":"src/components"}]}